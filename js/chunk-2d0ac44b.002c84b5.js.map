{"version":3,"sources":["webpack:///./src/components/editor/Editor.vue?17ac","webpack:///src/components/editor/Editor.vue","webpack:///./src/components/editor/Editor.vue?5018","webpack:///./src/components/editor/Editor.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","staticClass","attrs","on","save","_m","staticRenderFns","name","methods","console","log","path","content","$socket","emit","processFile","alert","undefined","msg","type","ext","split","pop","document","getElementById","value","style","display","src","watch","file","computed","get","set","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACJ,EAAIM,GAAG,YAAYF,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,aAAa,CAACI,MAAM,CAAC,GAAK,UAAU,KAAO,KAAK,KAAO,QAAQJ,EAAG,QAAQ,CAACI,MAAM,CAAC,GAAK,QAAQ,MAAQ,QAAQ,OAAS,WAAWJ,EAAG,MAAMA,EAAG,UAAU,CAACI,MAAM,CAAC,GAAK,OAAO,aAAe,SAASJ,EAAG,WAAW,CAACK,GAAG,CAAC,MAAQT,EAAIU,OAAO,CAACV,EAAIM,GAAG,UAAUN,EAAIW,GAAG,IAAI,MACtaC,EAAkB,CAAC,WAAa,IAAIZ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,YAAY,OAAO,CAACH,EAAG,IAAI,CAACI,MAAM,CAAC,KAAO,4CAA4C,OAAS,WAAW,CAACR,EAAIM,GAAG,gDCmBtO,G,oBAAA,CACEO,KAAM,SACNC,QAAS,CACPJ,KADJ,WAEM,IAAN,2CACA,wCACMK,QAAQC,IAAIC,EAAMC,GAClBjB,KAAKkB,QAAQC,KAAK,aAAc,CAAtC,oBAEIC,YAPJ,SAOA,GACM,GAAN,QACQC,MAAM,UAAd,cAkBM,QAfgBC,GAAZC,EAAIC,OACND,EAAIE,IAAMF,EAAIP,KAAKU,MAAM,KAAKC,OAIhCC,SAASC,eAAe,QAAQC,MAAQP,EAAIP,KAC5CY,SAASC,eAAe,SAASE,MAAMC,QAAU,OACjDJ,SAASC,eAAe,WAAWE,MAAMC,QAAU,QACnDJ,SAASC,eAAe,WAAWC,MAAQP,EAAIN,aAOrD,oEAEQ,IAAR,2CAEQW,SAASC,eAAe,SAASI,IAAMA,EACvCL,SAASC,eAAe,SAASE,MAAMC,QAAU,QACjDJ,SAASC,eAAe,WAAWE,MAAMC,QAAU,YAWnDlB,QAAQC,IAAIQ,KAkBlBW,MAAF,CACIC,KADJ,WAEMrB,QAAQC,IAAIf,KAAKmC,MACjBnC,KAAKoB,YAAYpB,KAAKmC,QAG1BC,SAAF,CACID,KAAJ,CACME,IADN,WACA,+BACMC,IAFN,iBC3F+V,I,YCO3VC,EAAY,eACd,EACAzC,EACAa,GACA,EACA,KACA,KACA,MAIa,aAAA4B,E","file":"js/chunk-2d0ac44b.002c84b5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\" Editor \"),_c('div',{staticClass:\"preview\"},[_c('b-textarea',{attrs:{\"id\":\"content\",\"rows\":\"25\",\"cols\":\"50\"}}),_c('b-img',{attrs:{\"id\":\"image\",\"width\":\"425px\",\"height\":\"400px\"}}),_c('br'),_c('b-input',{attrs:{\"id\":\"path\",\"autocomplete\":\"off\"}}),_c('b-button',{on:{\"click\":_vm.save}},[_vm._v(\"Save\")]),_vm._m(0)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"doc\"},[_c('a',{attrs:{\"href\":\"https://scenaristeur.github.io/ipgs/about\",\"target\":\"_blank\"}},[_vm._v(\"WAnt to CReate BIg MindMaps ? TRy Ipgs\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    Editor\r\n    <div class=\"preview\">\r\n      <b-textarea id=\"content\" rows=\"25\" cols=\"50\">\r\n      </b-textarea>\r\n      <b-img id=\"image\" width=\"425px\" height=\"400px\"/>\r\n      <br>\r\n      <b-input id=\"path\" autocomplete=\"off\" />\r\n      <b-button @click=\"save\">Save</b-button>\r\n      <div class=\"doc\">\r\n        <!-- <a href=\"./babylon\" >Baby</a> -->\r\n        <a href=\"https://scenaristeur.github.io/ipgs/about\" target=\"_blank\">WAnt to CReate BIg MindMaps ? TRy Ipgs</a>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Editor',\r\n  methods: {\r\n    save(){\r\n      let content = document.getElementById(\"content\").value\r\n      let path = document.getElementById(\"path\").value\r\n      console.log(path, content)\r\n      this.$socket.emit('write file', {path: path, content: content});\r\n    },\r\n    processFile(msg){\r\n      if(msg.error){\r\n        alert(\"Error: \",msg.error)\r\n        return\r\n      }\r\n      if (msg.type == undefined){\r\n        msg.ext = msg.path.split('.').pop()\r\n      }\r\n      //console.log(msg)\r\n      // try{\r\n      document.getElementById(\"path\").value = msg.path\r\n      document.getElementById('image').style.display = \"none\"\r\n      document.getElementById('content').style.display = \"block\"\r\n      document.getElementById(\"content\").value = msg.content\r\n      // if (msg.type == \"application/json\" || msg.ext ==\"json\"){\r\n      //   console.log(\"TYPEOF\" , typeof msg.content)\r\n      //   // let cont = JSON.parse(msg.content)\r\n      //   // console.log(\"Cont\",cont)\r\n      // //  msg.content = JSON.parse(msg.content) || msg.content\r\n      // }else\r\n      if(msg.type != undefined && msg.type.mime != undefined && msg.type.mime.split('/')[0] == 'image'){\r\n        //console.log(msg.content)\r\n        let src= 'data:'+msg.type.mime+';base64,' + msg.content;\r\n        //console.log(\"image\",src)\r\n        document.getElementById('image').src = src\r\n        document.getElementById('image').style.display = \"block\"\r\n        document.getElementById('content').style.display = \"none\"\r\n\r\n        // let ctx = document.getElementById('canvas').getContext('2d');\r\n        // let img = new Image();\r\n        // //let src= 'data:'+msg.type.mime+',' + msg.content;\r\n        // console.log(\"src\",src)\r\n        // img.src = src\r\n        // ctx.drawImage(img, 0, 0);\r\n        // console.log(ctx)\r\n\r\n      }else{\r\n        console.log(msg)\r\n      }\r\n\r\n      // msg.content.nodes != undefined ? this.data.nodes.update(msg.content.nodes) : \"\"\r\n      // msg.content.edges != undefined ? this.data.edges.update(msg.content.edges) : \"\"\r\n      //\r\n      // this.data.edges.forEach((e) => {\r\n      //   if (e.label == \"a\"){\r\n      //     this.data.nodes.get(e.from).group = e.to\r\n      //   }\r\n      // });\r\n      //\r\n      // }catch(e){\r\n      //   console.log(e)\r\n      // }\r\n\r\n    }\r\n  },\r\n  watch:{\r\n    file(){\r\n      console.log(this.file)\r\n      this.processFile(this.file)\r\n    }\r\n  },\r\n  computed:{\r\n    file:{\r\n      get () { return this.$store.state.file},\r\n      set (/*value*/) { /*this.updateTodo(value)*/ }\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=772ee15e&\"\nimport script from \"./Editor.vue?vue&type=script&lang=js&\"\nexport * from \"./Editor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}